php_admin_value date.timezone           "Asia/Ho_Chi_Minh"

php_value       display_errors          1
php_value       display_startup_errors  1
php_flag        display_errors          1
php_flag        display_startup_errors  1
php_value       error_reporting         -1

php_value       max_execution_time      30
php_value       memory_limit            256M

php_value       post_max_size           128M
php_value       upload_max_filesize     128M

php_value       max_input_vars          75000

php_value       session.gc_maxlifetime  2628000

AcceptFilter http none
AcceptFilter https none

DocumentRoot /var/www/html/

<Directory /var/www>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

<Directory /var/www/*>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted

    RewriteEngine On
    RewriteBase /
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-l
    RewriteRule . /index.php [L]
</Directory>

<IfModule mod_ssl.c>
    Listen 443
</IfModule>

AliasMatch "^/.well-known/acme-challenge/([a-zA-Z0-9_.-]+)"      "/home/gssadmin/.ssl/sslverify/$1"

<Directory /home/gssadmin/.ssl/sslverify>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

########################################################################
# domain: all
########################################################################
<VirtualHost *:80>
    UseCanonicalName Off
    ServerAlias *.twentyci.asia
    VirtualDocumentRoot /var/www/%1/
</VirtualHost>

<VirtualHost *:443>
    UseCanonicalName Off
    ServerAlias *.twentyci.asia
    VirtualDocumentRoot /var/www/%1/

    SSLEngine on
    SSLProtocol all -SSLv2 -SSLv3

    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP

    SSLCertificateFile /home/gssadmin/.ssl/certificate.crt
    SSLCertificateKeyFile /home/gssadmin/.ssl/private.key
</VirtualHost>

########################################################################
# domain: all www to non-www
########################################################################
<VirtualHost *:80>
    UseCanonicalName Off
    ServerAlias www.*
    VirtualDocumentRoot /var/www/%2+/
</VirtualHost>

<VirtualHost *:443>
    UseCanonicalName Off
    ServerAlias www.*
    VirtualDocumentRoot /var/www/%2+/

    SSLEngine on
    SSLProtocol all -SSLv2 -SSLv3

    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP

    SSLCertificateFile /home/gssadmin/.ssl/certificate.crt
    SSLCertificateKeyFile /home/gssadmin/.ssl/private.key
</VirtualHost>

########################################################################
# domain: all
########################################################################
<VirtualHost *:80>
    UseCanonicalName Off
    ServerAlias *
    VirtualDocumentRoot /var/www/%0/
</VirtualHost>

<VirtualHost *:443>
    UseCanonicalName Off
    ServerAlias *
    VirtualDocumentRoot /var/www/%0/

    SSLEngine on
    SSLProtocol all -SSLv2 -SSLv3

    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP

    SSLCertificateFile /home/gssadmin/.ssl/certificate.crt
    SSLCertificateKeyFile /home/gssadmin/.ssl/private.key
</VirtualHost>
