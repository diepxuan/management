########################################################################
# domain: diepxuan.* to www.diepxuan.vn
########################################################################
<VirtualHost *:80>
    UseCanonicalName Off
    ServerName  diepxuan.com
    ServerAlias diepxuan.*
    VirtualDocumentRoot /var/www/html/live/www.diepxuan.vn/
</VirtualHost>

<VirtualHost *:443>
    UseCanonicalName Off
    ServerName  diepxuan.com
    ServerAlias diepxuan.*
    VirtualDocumentRoot /var/www/html/live/www.diepxuan.vn/

    SSLEngine on
    SSLProtocol all -SSLv2 -SSLv3

    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP

    SSLCertificateFile      /etc/letsencrypt/live/diepxuan.com/fullchain.pem
    SSLCertificateKeyFile   /etc/letsencrypt/live/diepxuan.com/privkey.pem
</VirtualHost>

########################################################################
# domain: *.diepxuan.* to *.diepxuan.vn
########################################################################
<VirtualHost *:80>
    UseCanonicalName Off
    ServerAlias cloud.diepxuan.com
    DocumentRoot /var/www/html/live/cloud.diepxuan.vn/

    <Directory /var/www/html/live/cloud.diepxuan.vn/>
        Options +FollowSymlinks
        AllowOverride All
        Require all granted
        <IfModule mod_dav.c>
            Dav off
        </IfModule>
        SetEnv HOME /var/www/html/live/cloud.diepxuan.vn
        SetEnv HTTP_HOME /var/www/html/live/cloud.diepxuan.vn
     </Directory>
</VirtualHost>

<VirtualHost *:443>
    UseCanonicalName Off
    ServerAlias cloud.diepxuan.com
    DocumentRoot /var/www/html/live/cloud.diepxuan.vn/

    <Directory /var/www/html/live/cloud.diepxuan.vn/>
        Options +FollowSymlinks
        AllowOverride All
        Require all granted
        <IfModule mod_dav.c>
            Dav off
        </IfModule>
        SetEnv HOME /var/www/html/live/cloud.diepxuan.vn
        SetEnv HTTP_HOME /var/www/html/live/cloud.diepxuan.vn
     </Directory>

    SSLEngine on
    SSLProtocol all -SSLv2 -SSLv3

    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP

    SSLCertificateFile      /etc/letsencrypt/live/diepxuan.com/fullchain.pem
    SSLCertificateKeyFile   /etc/letsencrypt/live/diepxuan.com/privkey.pem
</VirtualHost>

########################################################################
# domain: *.diepxuan.* to *.diepxuan.vn
########################################################################
# <VirtualHost *:80>
#     UseCanonicalName Off
#     ServerAlias *.diepxuan.com
#     ServerAlias *.diepxuan.*
#     VirtualDocumentRoot /var/www/html/live/%1.0.diepxuan.vn/
# </VirtualHost>
#
# <VirtualHost *:443>
#     UseCanonicalName Off
#     ServerAlias *.diepxuan.com
#     ServerAlias *.diepxuan.*
#     VirtualDocumentRoot /var/www/html/live/%1.0.diepxuan.vn/
#
#     SSLEngine on
#     SSLProtocol all -SSLv2 -SSLv3
#
#     SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP
#
#     SSLCertificateFile      /etc/letsencrypt/live/diepxuan.com/fullchain.pem
#     SSLCertificateKeyFile   /etc/letsencrypt/live/diepxuan.com/privkey.pem
# </VirtualHost>

########################################################################
# domain: *.diepxuan.*
########################################################################
<VirtualHost *:80>
    UseCanonicalName Off
    ServerAlias *.diepxuan.com
    ServerAlias *.diepxuan.*
    VirtualDocumentRoot /home/%1.0/public_html/
</VirtualHost>

<VirtualHost *:443>
    UseCanonicalName Off
    ServerAlias *.diepxuan.com
    ServerAlias *.diepxuan.*
    VirtualDocumentRoot /home/%1.0/public_html/
</VirtualHost>

<VirtualHost *:443>
    SSLEngine on
    SSLProtocol all -SSLv2 -SSLv3

    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP

    SSLCertificateFile      /etc/letsencrypt/live/diepxuan.com/fullchain.pem
    SSLCertificateKeyFile   /etc/letsencrypt/live/diepxuan.com/privkey.pem
</VirtualHost>
